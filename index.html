<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>studying.works - AI-Powered Study Platform | Flashcards, Quizzes & More</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Built for every kind of learner. AI-generated flashcards, adaptive quizzes, spaced repetition, and community study decks. Free study tools for students.">
    <meta name="keywords" content="study tools, flashcards, AI flashcards, quiz generator, study app, spaced repetition, student tools, exam prep, learning platform">
    <meta name="author" content="studying.works">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://studying.works/">
    <meta property="og:title" content="studying.works - AI-Powered Study Platform">
    <meta property="og:description" content="Built for every kind of learner. AI-powered flashcards, adaptive quizzes, and smart study tools.">
    <meta property="og:image" content="https://studying.works/og-image.svg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://studying.works/">
    <meta name="twitter:title" content="studying.works - AI-Powered Study Platform">
    <meta name="twitter:description" content="Built for every kind of learner. AI-powered flashcards, adaptive quizzes, and smart study tools.">
    <meta name="twitter:image" content="https://studying.works/og-image.svg">

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ“</text></svg>">
    <link rel="canonical" href="https://studying.works/">

    <!-- Preconnect -->
    <link rel="preconnect" href="https://www.gstatic.com">
    <link rel="dns-prefetch" href="https://www.gstatic.com">
    <link rel="preconnect" href="https://identitytoolkit.googleapis.com">
    <link rel="dns-prefetch" href="https://identitytoolkit.googleapis.com">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="global-styles.css">
    <link rel="stylesheet" href="button-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root{
            --bg:#0b0b0d;
            --muted:#9aa3b2;
            --accent:#0ea5a4;
            --glass: rgba(255,255,255,0.06);
        }
        html,body{height:100%;}
        body{font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial; background:var(--bg); color:white; -webkit-font-smoothing:antialiased;}

        /* Minimal hero */
        .hero-wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:6vw 4vw;position:relative;overflow:hidden}
        .hero-inner{max-width:1200px;width:100%;display:grid;grid-template-columns:1fr 520px;gap:48px;align-items:center}

        .lead{font-weight:800;letter-spacing:-0.02em;font-size:clamp(2rem,5vw,3.6rem);line-height:1.02;margin:0 0 18px}
        .sub{color:var(--muted);font-size:clamp(1rem,1.6vw,1.25rem);max-width:56ch;margin-bottom:26px}
        .cta-row{display:flex;gap:14px;align-items:center}

        .btn-primary{background:white;color:#071017;padding:14px 22px;border-radius:14px;font-weight:600;box-shadow:0 10px 30px rgba(2,6,23,0.6);border:none;cursor:pointer}
        .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--muted);padding:12px 18px;border-radius:12px}

        /* Product 3D card */
        .stage{perspective:1400px}
        .product-card{width:520px;height:340px;border-radius:24px;background:linear-gradient(180deg,#0f1720 0%, #071017 100%);box-shadow: 0 40px 80px rgba(2,6,23,0.8);display:flex;flex-direction:column;overflow:hidden;transform-style:preserve-3d;transition:transform 400ms cubic-bezier(.2,.9,.3,1)}
        .device-screen{flex:1;padding:28px;display:flex;flex-direction:column;gap:12px}
        .mock-header{display:flex;justify-content:space-between;align-items:center}
        .pill{background:var(--glass);padding:8px 12px;border-radius:999px;color:var(--muted);font-weight:600;font-size:0.9rem}
        .big-number{font-weight:800;font-size:1.6rem}
        .progress{height:10px;background:rgba(255,255,255,0.06);border-radius:999px;overflow:hidden}
        .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#60a5fa);width:68%}

        /* subtle reflections and accents */
        .card-deco{position:absolute;inset:0;pointer-events:none}
        .orb{position:absolute;border-radius:50%;filter:blur(80px);opacity:.25}
        .orb.a{width:420px;height:420px;background:#06b6d4;right:-140px;top:-120px}
        .orb.b{width:320px;height:320px;background:#7c3aed;left:-120px;bottom:-80px;opacity:.18}

        /* responsive tweaks */
        @media (max-width:1000px){
            .hero-inner{grid-template-columns:1fr}
            .product-card{margin:0 auto}
        }
        @keyframes spin{to{transform:rotate(360deg)}}
    </style>
</head>
<body class="overflow-x-hidden">

    <div class="min-h-screen bg-animated-gradient relative overflow-hidden">
        <!-- Glowing orbs background -->
        <div class="glow-orb" style="width: 400px; height: 400px; background: #667eea; top: -100px; left: -100px;"></div>
        <div class="glow-orb" style="width: 500px; height: 500px; background: #f093fb; bottom: -150px; right: -150px; animation-delay: 2s;"></div>
        <div class="glow-orb" style="width: 300px; height: 300px; background: #4facfe; top: 50%; left: 50%; transform: translate(-50%, -50%); animation-delay: 1s;"></div>

        <!-- Main content -->
        <div class="relative z-10 min-h-screen flex flex-col">
            <!-- Header -->
            <header class="p-6 md:p-8">
                <div class="max-w-7xl mx-auto flex justify-between items-center">
                    <div class="flex items-center space-x-3 animate-slide-in-left opacity-0 delay-200">
                        <span class="text-5xl">ðŸŽ“</span>
                        <span class="text-2xl md:text-3xl font-bold text-white">studying.works</span>
                    </div>
                </div>
            </header>

            <!-- Hero Section (minimal) -->
            <main class="flex-1">
                <div class="hero-wrap">
                    <div class="hero-inner">
                        <div>
                            <div style="margin-bottom:18px; color:var(--muted); font-weight:600">studying.works</div>
                            <h1 class="lead">A smarter way to learn â€” AI that actually helps you remember.</h1>
                            <p class="sub">AI-generated flashcards, adaptive quizzes, and progress that tells you what to study next. Built for results: faster mastery, zero fluff, and fully open.</p>

                            <div id="entry-section" style="margin-top:18px">
                                <div id="auth-buttons">
                                    <div id="google-signin-container" class="cta-row">
                                        <button id="google-signin-btn" class="btn-primary">Get started â€” free</button>
                                        <button class="btn-ghost" onclick="window.location.href='about.html'">Why it works</button>
                                    </div>

                                    <div id="enter-container" class="hidden" style="margin-top:8px">
                                        <button id="enter-btn" class="btn-primary">Welcome back â€” Enter</button>
                                    </div>
                                </div>

                                <div id="loading" class="hidden" style="margin-top:16px">
                                    <div style="display:inline-block;width:40px;height:40px;border-radius:50%;border:4px solid rgba(255,255,255,0.08);border-top-color:white;animation:spin 1s linear infinite"></div>
                                </div>
                            </div>

                            <ul style="display:flex;gap:18px;margin-top:26px;padding:0;list-style:none">
                                <li style="color:var(--muted);font-weight:600">AI-first flashcards</li>
                                <li style="color:var(--muted);font-weight:600">Adaptive quizzes</li>
                                <li style="color:var(--muted);font-weight:600">Open & free</li>
                            </ul>
                        </div>

                        <div class="stage">
                            <div class="product-card" id="product-card">
                                <div class="card-deco">
                                    <div class="orb a"></div>
                                    <div class="orb b"></div>
                                </div>
                                <div class="device-screen">
                                    <div class="mock-header">
                                        <div class="pill">AI Study</div>
                                        <div class="big-number">+120k</div>
                                    </div>

                                    <div style="flex:1;display:flex;align-items:center;justify-content:center">
                                        <div style="width:85%;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:14px;padding:18px;text-align:left">
                                            <div style="font-weight:700;margin-bottom:8px">Photosynthesis â€” Quick Card</div>
                                            <div style="color:var(--muted);margin-bottom:12px">What converts light into chemical energy?</div>
                                            <div style="font-weight:600;color:#fff;background:rgba(255,255,255,0.03);padding:10px;border-radius:10px">Chlorophyll in plant cells</div>
                                        </div>
                                    </div>

                                    <div style="margin-top:12px">
                                        <div class="progress"><i></i></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Footer -->
            <footer class="p-6 text-center">
                <p class="text-white/60 text-sm animate-fade-in-up opacity-0 delay-1700">
                    Built by Ben Hocquet
                </p>
            </footer>
        </div>
    </div>

    <script>
        (function(){
            const card = document.getElementById('product-card');
            if(!card) return;
            const stage = card.closest('.stage') || card.parentElement;
            const clamp = (v,a,b) => Math.max(a, Math.min(b, v));

            function onMove(e){
                const evt = e.touches ? e.touches[0] : e;
                const rect = stage.getBoundingClientRect();
                const x = (evt.clientX - rect.left) / rect.width;
                const y = (evt.clientY - rect.top) / rect.height;
                const rx = clamp((y - 0.5) * 12, -18, 18);
                const ry = clamp((x - 0.5) * -12, -18, 18);
                const scale = 1.03;
                card.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) scale(${scale})`;
            }
            function onLeave(){ card.style.transform = ''; }

            stage.addEventListener('mousemove', onMove);
            stage.addEventListener('touchmove', (ev)=> onMove(ev));
            stage.addEventListener('mouseleave', onLeave);
            stage.addEventListener('touchend', onLeave);
        })();
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { authService } from './auth-service.js';
        import { firebaseConfig } from './config.js';
        import { errorHandler } from './error-handler.js';

        const app = initializeApp(firebaseConfig);

        // Initialize auth service with persistence
        async function initAuth() {
            try {
                await authService.initializeAuth(app);

                // Check if user is already authenticated (from cached session)
                const currentUser = await authService.waitForAuthState();

                // Ensure the entry section is visible by removing opacity-0 class
                const entrySection = document.getElementById('entry-section');
                entrySection.classList.remove('opacity-0');
                entrySection.style.opacity = '1';

                if (currentUser && authService.isSessionValid()) {
                    // User is already authenticated, show Enter button
                    document.getElementById('google-signin-container').classList.add('hidden');
                    document.getElementById('enter-container').classList.remove('hidden');
                } else {
                    // User not authenticated, show Google Sign-In button
                    document.getElementById('google-signin-container').classList.remove('hidden');
                    document.getElementById('enter-container').classList.add('hidden');
                }
            } catch (error) {
                // Ensure visibility even on error
                const entrySection = document.getElementById('entry-section');
                entrySection.classList.remove('opacity-0');
                entrySection.style.opacity = '1';
                // On error, show Google Sign-In button
                document.getElementById('google-signin-container').classList.remove('hidden');
                document.getElementById('enter-container').classList.add('hidden');
            }
        }

        // Initialize authentication on page load
        initAuth();

        // Google Sign-In
        document.getElementById('google-signin-btn').addEventListener('click', async () => {
            try {
                document.getElementById('auth-buttons').classList.add('hidden');
                document.getElementById('loading').classList.remove('hidden');

                // Use auth service for sign-in
                const user = await authService.signInWithGoogle();

                if (user) {
                    // Redirect to dashboard
                    window.location.href = 'dashboard.html';
                }

            } catch (error) {
                document.getElementById('auth-buttons').classList.remove('hidden');
                document.getElementById('loading').classList.add('hidden');
                errorHandler.handleAuthError(error);
            }
        });

        // Enter button (for already logged in users)
        document.getElementById('enter-btn').addEventListener('click', async () => {
            try {
                document.getElementById('auth-buttons').classList.add('hidden');
                document.getElementById('loading').classList.remove('hidden');

                // Redirect to dashboard
                window.location.href = 'dashboard.html';
            } catch (error) {
                document.getElementById('auth-buttons').classList.remove('hidden');
                document.getElementById('loading').classList.add('hidden');
                errorHandler.showError('Navigation failed. Please try again.');
            }
        });
    </script>

    <!-- Dynamic Gradient System -->
    <script src="dynamic-gradient.js"></script>
</body>
</html>
